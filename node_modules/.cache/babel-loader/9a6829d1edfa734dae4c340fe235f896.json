{"ast":null,"code":"var _jsxFileName = \"/home/laboratoria143-am/Escritorio/Laboratoria/CDMX009-BurgerQueen/my-app/src/components/KitchenNotes/Note.js\";\nimport React, { useState, useEffect } from 'react';\nimport { db, auth } from '../../firebase';\nimport { v4 as uuidv4 } from 'uuid';\nimport './Note.css';\n\nfunction Note() {\n  const [incoming, setIncoming] = useState([]);\n\n  const getOrders = () => {\n    var unsubscribe = db.collection('orders').where(\"status\", \"==\", \"in progress\").orderBy('date', 'desc').onSnapshot(querySnapshot => {\n      const docs = [];\n      querySnapshot.forEach(doc => {\n        docs.push({ ...doc.data(),\n          id: doc.id\n        });\n      });\n      console.log(docs);\n      setIncoming(docs);\n    });\n    console.log('estoy consumiendo toda tu data');\n    return unsubscribe;\n  };\n\n  useEffect(() => {\n    getOrders();\n    return () => {\n      unsubscribe;\n    };\n  }, []);\n\n  const updateOrder = id => {\n    db.collection('orders').doc(id).update({\n      status: \"done\"\n    }).then(() => {\n      alert('un meserx ser치 notificado :)');\n    }).catch(() => {\n      alert('Ocurri칩 un error, intentalo de nuevo en un momento');\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"note-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, incoming.map(order => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notes\",\n      key: order.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, \" Mesa \", order.table), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, \" Meserx: \", order.waiter), order.items.map(product => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: uuidv4(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 37\n        }\n      }, product.item), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 37\n        }\n      }, product.quantity));\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"green\",\n      onClick: () => {\n        console.log(order);\n        updateOrder(order.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, \"Orden lista!\"));\n  }));\n}\n\nexport default Note;","map":{"version":3,"sources":["/home/laboratoria143-am/Escritorio/Laboratoria/CDMX009-BurgerQueen/my-app/src/components/KitchenNotes/Note.js"],"names":["React","useState","useEffect","db","auth","v4","uuidv4","Note","incoming","setIncoming","getOrders","unsubscribe","collection","where","orderBy","onSnapshot","querySnapshot","docs","forEach","doc","push","data","id","console","log","updateOrder","update","status","then","alert","catch","map","order","table","waiter","items","product","item","quantity"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { db, auth } from '../../firebase'\nimport { v4 as uuidv4 } from 'uuid'\nimport './Note.css'\n\nfunction Note(){\n\n    const [ incoming, setIncoming ] = useState([])\n\n    const getOrders = () =>{\n        var unsubscribe = db\n        .collection('orders')\n        .where(\"status\", \"==\", \"in progress\")\n        .orderBy('date', 'desc')\n        .onSnapshot((querySnapshot) => {\n            const docs = []\n            querySnapshot.forEach((doc) => {\n                docs.push({...doc.data(), id: doc.id})\n            })\n            console.log(docs)\n            setIncoming(docs)\n        })\n        console.log('estoy consumiendo toda tu data')\n        return unsubscribe\n    } \n\n    useEffect(() => {\n        getOrders()\n\n        return () => {\n            unsubscribe\n        }\n      }, []);\n\n    const updateOrder = (id) => {\n        db    \n        .collection('orders')\n        .doc(id)\n        .update({\n            status: \"done\"\n        })\n        .then(() => {\n            alert('un meserx ser치 notificado :)')\n        })\n        .catch(() =>{\n            alert('Ocurri칩 un error, intentalo de nuevo en un momento')\n        })   \n    }\n\n    return(\n        <div className=\"note-container\">\n            {incoming.map(order => {\n                return (\n                    <div className=\"notes\" key={order.id}>\n                        <h2 className=\"table\"> Mesa {order.table}</h2>\n                        <p> Meserx: {order.waiter}</p>\n                        {order.items.map(product => {\n                            return (\n                                <div key={uuidv4()} >\n                                    <p>{product.item}</p>\n                                    <p>{product.quantity}</p>\n                                </div>\n                            )\n                        })}\n                        <button className=\"green\" onClick={() => {console.log(order); updateOrder(order.id)}}>Orden lista!</button>\n                    </div>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default Note"]},"metadata":{},"sourceType":"module"}